{
	"info": {
		"_postman_id": "bid-server-collection",
		"name": "Server BID API Collection",
		"description": "API collection for server_bid.py - Main business logic, keyword matching, and external APIs",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://{{ip}}:{{port_bid}}",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Hello",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/hello",
							"host": ["{{base_url}}"],
							"path": ["hello"]
						}
					}
				}
			]
		},
		{
			"name": "Settings - Notice List",
			"item": [
				{
					"name": "Get All Settings Notice List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings_notice_list",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_list"]
						}
					}
				},
				{
					"name": "Get Settings Notice List by Organization",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings_notice_list/가평군청",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_list", "가평군청"]
						}
					}
				},
				{
					"name": "Upsert Settings Notice List",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"use\": \"1\",\n  \"url\": \"https://www.example.go.kr/portal/selectGosiList.do\",\n  \"iframe\": \"\",\n  \"rowXpath\": \"//*[@id='board']/table/tbody/tr\",\n  \"title\": \"td[4]/a\",\n  \"detail_url\": \"td[4]/a\",\n  \"posted_date\": \"td[3]\",\n  \"posted_by\": \"td[5]\",\n  \"exception_row\": \"\",\n  \"paging\": \"//div[contains(@class, 'pagination')]/span/a[contains(text(),'${i}')]\",\n  \"startPage\": \"1\",\n  \"endPage\": \"3\",\n  \"login\": \"\",\n  \"org_region\": \"경기\",\n  \"_비고\": \"\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/settings_notice_list/{{org_name}}",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_list", "{{org_name}}"]
						}
					}
				},
				{
					"name": "Check Settings Notice List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/check_settings_notice_list?org_name=가평군청",
							"host": ["{{base_url}}"],
							"path": ["check_settings_notice_list"],
							"query": [
								{
									"key": "org_name",
									"value": "가평군청"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Settings - Notice Detail",
			"item": [
				{
					"name": "Get All Settings Notice Detail",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings_notice_detail",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_detail"]
						}
					}
				},
				{
					"name": "Get Settings Notice Detail by Organization",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings_notice_detail/가평군청",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_detail", "가평군청"]
						}
					}
				},
				{
					"name": "Get Detail Config",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/detail_config/가평군청",
							"host": ["{{base_url}}"],
							"path": ["detail_config", "가평군청"]
						}
					}
				}
			]
		},
		{
			"name": "Notice Management",
			"item": [
				{
					"name": "Get Notice List (All)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notice_list?gap=7",
							"host": ["{{base_url}}"],
							"path": ["notice_list"],
							"query": [
								{
									"key": "gap",
									"value": "7",
									"description": "Number of days back to fetch notices"
								}
							]
						}
					}
				},
				{
					"name": "Get Notice List by Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notice_list/공사점검?gap=7",
							"host": ["{{base_url}}"],
							"path": ["notice_list", "공사점검"],
							"query": [
								{
									"key": "gap",
									"value": "7"
								}
							]
						}
					}
				},
				{
					"name": "Get Notice List for Statistics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notice_list_statistics?gap=7",
							"host": ["{{base_url}}"],
							"path": ["notice_list_statistics"],
							"query": [
								{
									"key": "gap",
									"value": "7"
								}
							]
						}
					}
				},
				{
					"name": "Get Last Notice by Organization",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/last_notice/가평군청?field=title",
							"host": ["{{base_url}}"],
							"path": ["last_notice", "가평군청"],
							"query": [
								{
									"key": "field",
									"value": "title"
								}
							]
						}
					}
				},
				{
					"name": "Search Notice List",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"keywords\": \"안전,점검,진단\",\n  \"nots\": \"건축물,토목\",\n  \"min_point\": 3,\n  \"add_where\": \"`posted_date` >= '2024-01-01'\",\n  \"base_sql\": \"\",\n  \"add_sql\": \"\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/search_notice_list",
							"host": ["{{base_url}}"],
							"path": ["search_notice_list"]
						}
					}
				},
				{
					"name": "Upsert Notice List",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n  {\n    \"nid\": 406810,\n    \"status\": \"\",\n    \"category\": \"성능평가\"\n  }\n]"
						},
						"url": {
							"raw": "{{base_url}}/notice_list",
							"host": ["{{base_url}}"],
							"path": ["notice_list"]
						}
					}
				},
				{
					"name": "Update Notice Status",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"nid\": 537943, \n    \"from\": \"제외\", \n    \"to\": \"진행\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/notice_list/status",
							"host": ["{{base_url}}"],
							"path": ["notice_list", "status"]
						}
					}
				}
			]
		},
		{
			"name": "Bid Management",
			"item": [
				{
					"name": "Get My Bids",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/my_bids",
							"host": ["{{base_url}}"],
							"path": ["my_bids"]
						}
					}
				},
				{
					"name": "Get My Bids by Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/my_bids/준비",
							"host": ["{{base_url}}"],
							"path": ["my_bids", "준비"]
						}
					}
				}
			]
		},
		{
			"name": "Logging & Monitoring",
			"item": [
				{
					"name": "Get Scraping Logs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/logs_notice_scraping?gap=7",
							"host": ["{{base_url}}"],
							"path": ["logs_notice_scraping"],
							"query": [
								{
									"key": "gap",
									"value": "7"
								}
							]
						}
					}
				},
				{
					"name": "Get Scraping Errors",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/errors_notice_scraping?gap=7",
							"host": ["{{base_url}}"],
							"path": ["errors_notice_scraping"],
							"query": [
								{
									"key": "gap",
									"value": "7"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Scraping Test",
			"item": [
				{
					"name": "Check Fetch List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/check_fetch_list?org_name=서울특별시강동송파교육지원청",
							"host": ["{{base_url}}"],
							"path": ["check_fetch_list"],
							"query": [
								{
									"key": "org_name",
									"value": "서울특별시강동송파교육지원청"
								}
							]
						}
					}
				},
				{
					"name": "Test CSV",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"csv\": \"컬럼1,컬럼2,컬럼3\\n값1,값2,값3\\n값4,값5,값6\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/test_csv/",
							"host": ["{{base_url}}"],
							"path": ["test_csv", ""]
						}
					}
				}
			]
		},
		{
			"name": "Database Management",
			"item": [
				{
					"name": "Delete Old Notice List",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/delete_old_notice_list?day_gap=15",
							"host": ["{{base_url}}"],
							"path": ["delete_old_notice_list"],
							"query": [
								{
									"key": "day_gap",
									"value": "15"
								}
							]
						}
					}
				},
				{
					"name": "Backup Database",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/backup_db",
							"host": ["{{base_url}}"],
							"path": ["backup_db"]
						}
					}
				}
			]
		},
		{
			"name": "Keyword & Category Management",
			"item": [
				{
					"name": "Get All Notice Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings_notice_categorys",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_categorys"]
						}
					}
				},
				{
					"name": "Get Notice Categories by Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings_notice_categorys/공사점검",
							"host": ["{{base_url}}"],
							"path": ["settings_notice_categorys", "공사점검"]
						}
					}
				},
				{
					"name": "Category Weight Search",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"keywords\": \"안전*3,점검*2,진단*1\",\n  \"min_point\": 4,\n  \"field\": \"title\",\n  \"table_name\": \"notice_list\",\n  \"add_fields\": [\"detail_url\", \"posted_date\", \"org_name\"],\n  \"add_where\": \"`posted_date` >= '2024-01-01'\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/category_weight_search",
							"host": ["{{base_url}}"],
							"path": ["category_weight_search"]
						}
					}
				},
				{
					"name": "Filter Notice List",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"not_str\": \"건축물,토목,교량\",\n  \"dicts\": [\n    {\"nid\": 1, \"title\": \"안전점검 공고\"}, \n    {\"nid\": 2, \"title\": \"건축물 점검 공고\"}\n  ],\n  \"field\": \"title\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/filter_notice_list",
							"host": ["{{base_url}}"],
							"path": ["filter_notice_list"]
						}
					}
				},
				{
					"name": "Parse Keyword Weights",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/parse_keyword_weights?keyword_weight_str=안전*3,점검*2,진단*1",
							"host": ["{{base_url}}"],
							"path": ["parse_keyword_weights"],
							"query": [
								{
									"key": "keyword_weight_str",
									"value": "안전*3,점검*2,진단*1"
								}
							]
						}
					}
				}
			]
		}
	]
}