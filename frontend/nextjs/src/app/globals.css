@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

@layer base {
  :root {
    --radius: 0;

    /* Custom Color System - Light Mode */
    /* Primary Color (Slate) */
    --color-primary-foreground: 210 40% 2%;
    /* slate-900 - 글자색(기본, 테이블 행/헤더) */
    --color-primary-background: 210 40% 98%;
    /* slate-100 - 배경색(기본, 테이블 행) */
    --color-primary-hovered: 210 40% 93%;
    /* slate-300 - hover 상태, 테이블 헤더 배경색 */
    --color-primary-muted: 210 40% 78%;
    /* slate-400 - 비활성화 상태 */
    --color-primary-linked: 210 40% 40%;
    /* slate-700 - link(anchor) 글자색 */

    /* Secondary Color (Orange) */
    --color-secondary-active: 20.5 90.2% 48.2%;
    /* orange-500 - 활성화 상태 */

    /* Tertiary Color (Green) */
    --color-tertiary-base: 142.1 76.2% 36.3%;
    /* green-600 - tertiary 기본 색상 */
  }

  .dark {

    /* Custom Color System - Dark Mode */
    /* Primary Color (Slate) */
    --color-primary-foreground: 210 40% 98%;
    /* slate-100 - 글자색(기본, 테이블 행/헤더) */
    --color-primary-background: 210 40% 2%;
    /* slate-900 - 배경색(기본, 테이블 행) */
    --color-primary-hovered: 210 40% 24%;
    /* slate-700 - hover 상태, 테이블 헤더 배경색 */
    --color-primary-muted: 210 40% 52%;
    /* slate-600 - 비활성화 상태 */
    --color-primary-linked: 210 40% 78%;
    /* slate-300 - link(anchor) 글자색 */

    /* Secondary Color (Orange) */
    --color-secondary-active: 20.5 90.2% 48.2%;
    /* orange-500 - 활성화 상태 */

    /* Tertiary Color (Green) */
    --color-tertiary-base: 142.1 76.2% 36.3%;
    /* green-600 - tertiary 기본 색상 */
  }

  body {
    @apply text-foreground;
    background-color: hsl(var(--color-primary-background));
    color: hsl(var(--color-primary-foreground));
  }

  /* 페이지 콘텐츠 영역 최소 높이 설정 */
  main {
    min-height: calc(100vh - 110px); /* 헤더와 푸터 높이를 제외한 나머지 높이 */
  }

  /* 모든 텍스트 기본 색상 적용 (placeholder, link 제외) */
  *:not(::placeholder):not(a):not(table tbody tr a) {
    color: hsl(var(--color-primary-foreground));
  }

  /* 모든 링크(a 태그) 색상 설정 */
  a,
  a:link {
    color: hsl(var(--color-primary-linked)) !important;
  }

  a:hover {
    color: hsl(var(--color-primary-hovered)) !important;
  }

  a:visited {
    color: hsl(var(--color-primary-muted)) !important;
  }

  /* 추가 specificty를 위한 규칙 */
  body a,
  main a,
  div a,
  p a,
  span a {
    color: hsl(var(--color-primary-linked)) !important;
  }

  body a:hover,
  main a:hover,
  div a:hover,
  p a:hover,
  span a:hover {
    color: hsl(var(--color-primary-hovered)) !important;
  }

  /* 모든 Card 컴포넌트 스타일 통일 */
  .card,
  [data-card],
  [class*="card"] {
    border-color: hsl(var(--color-primary-foreground)) !important;
    background-color: transparent !important;
  }

  /* HEADER */
  /* 헤더 메뉴 활성 상태 밑줄 표시 */
  header a.active,
  header button.active,
  header nav a.active,
  header nav button.active,
  header nav div button.active,
  header div a.active,
  .header-menu.active,
  nav a.active,
  nav button.active {
    position: relative;
  }

  header a.active::after,
  header button.active::after,
  header nav a.active::after,
  header nav button.active::after,
  header nav div button.active::after,
  header div a.active::after,
  .header-menu.active::after,
  nav a.active::after,
  nav button.active::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 2px;
    background-color: hsl(0 85% 55%) !important;
    border-radius: 0;
    z-index: 10;
  }

  /* 헤더 텍스트 색상 - 다크 모드 대응 */
  header,
  header * {
    color: hsl(var(--color-primary-foreground));
  }

  /* 드롭다운 배경색 - 다크 모드 대응 */
  header .bg-color-primary-background {
    background-color: hsl(var(--color-primary-background));
  }

  /* 헤더 드롭다운 메뉴 hover 효과 */
  header [role="menu"] a:hover,
  header [role="menu"] button:hover,
  header .dropdown-content a:hover,
  header .dropdown-content button:hover {
    background-color: hsl(var(--color-primary-hovered)) !important;
    transition: background-color 0.2s ease !important;
  }

  /* 탭 UI hover 효과 */
  .tab-button:hover {
    background-color: hsl(var(--color-primary-hovered)) !important;
    transition: background-color 0.2s ease !important;
  }

  /* 선택된 탭 스타일 */
  .tab-button.active {
    background-color: hsl(var(--color-primary-hovered)) !important;
    border-bottom: 2px solid hsl(var(--color-secondary-active)) !important;
  }


  /* body {
    @apply text-foreground;
    background-color: blue;
  }

  .dark body {
    background-color: orange;
  } */

  /* ELEMENTS: FORM */
  /* 투명한 배경을 위한 기본 스타일 */
  input,
  select,
  textarea,
  .select-trigger,
  [role="combobox"],
  table,
  tbody,
  tr,
  td {
    background-color: transparent;
  }

  /* 일반 버튼은 투명하게, 단 ButtonWithColorIcon과 헤더 요소는 제외 */
  button:not(.bg-color-secondary-active):not(.bg-color-tertiary-base):not([class*="bg-red"]):not([class*="bg-green"]):not(header button):not(header *),
  [role="button"]:not(.bg-color-secondary-active):not(.bg-color-tertiary-base):not([class*="bg-red"]):not([class*="bg-green"]):not(header [role="button"]):not(header *) {
    background-color: transparent;
  }

  /* input과 select 테두리색과 글자색을 foreground로 */
  input,
  select,
  textarea,
  .select-trigger,
  [role="combobox"] {
    border-color: hsl(var(--color-primary-foreground));
    color: hsl(var(--color-primary-foreground));
  }

  /* hover 상태 (헤더 요소 제외) */
  button:hover:not(header button):not(header *),
  [role="button"]:hover:not(header [role="button"]):not(header *),
  [role="combobox"]:hover,
  .select-trigger:hover,
  input:hover,
  select:hover,
  textarea:hover {
    background-color: hsl(var(--color-primary-hovered) / 0.5);
  }

  /* ELEMENTS: TABLE */

  /* 테이블 헤더 */
  thead th,
  thead td,
  th {
    background-color: hsl(var(--color-primary-hovered)) !important;
    text-align: center !important;
  }

  /* 테이블 헤더 hover 효과 제거 */
  thead th:hover,
  thead td:hover,
  th:hover {
    background-color: hsl(var(--color-primary-hovered)) !important;
  }

  /* 테이블 내 모든 글자색 및 폰트 굵기 */
  table,
  table th,
  table td,
  table tr,
  thead th,
  thead td,
  tbody th,
  tbody td,
  tfoot th,
  tfoot td {
    color: hsl(var(--color-primary-foreground)) !important;
    font-weight: normal !important;
  }

  /* 테이블 행 hover */
  tbody tr:hover {
    background-color: hsl(var(--color-primary-hovered));
  }

  /* 테이블 행 내 링크 색상 */
  table tbody tr a {
    color: hsl(var(--color-primary-linked)) !important;
  }

  /* 테이블 행 내 링크 hover 색상 */
  table tbody tr a:hover {
    color: hsl(var(--color-primary-muted)) !important;
  }

  /* SORTABLE TABLE HEADERS */
  /* 정렬 가능한 테이블 헤더 스타일 */
  th[data-sortable="true"],
  th.cursor-pointer,
  thead th.cursor-pointer,
  thead td.cursor-pointer {
    cursor: pointer !important;
    transition: color 0.2s ease !important;
  }

  /* 정렬 가능한 헤더 hover 상태 */
  th[data-sortable="true"]:hover,
  th.cursor-pointer:hover,
  thead th.cursor-pointer:hover,
  thead td.cursor-pointer:hover {
    color: hsl(var(--color-secondary-active)) !important;
  }

  /* 현재 정렬된 헤더 (활성 상태) */
  th[data-sortable="true"].sorted,
  th.cursor-pointer.sorted,
  thead th.cursor-pointer.sorted,
  thead td.cursor-pointer.sorted,
  th[data-sorted="true"],
  th.cursor-pointer[data-sorted="true"],
  thead th.cursor-pointer[data-sorted="true"],
  thead td.cursor-pointer[data-sorted="true"],
  th[data-sort-active="true"],
  th.cursor-pointer[data-sort-active="true"],
  thead th.cursor-pointer[data-sort-active="true"],
  thead td.cursor-pointer[data-sort-active="true"] {
    color: hsl(var(--color-secondary-active)) !important;
  }

  /* ELEMENTS: USER */
  /* 검색 입력 필드 아이콘과 텍스트 간격 보정 */
  .search-input-with-icon {
    padding-left: 4rem !important;
    text-indent: 1.25rem !important;
  }

  /* 검색 아이콘이 있는 입력 필드의 placeholder 위치 조정 */
  .search-input-with-icon::placeholder {
    transform: translateX(0.5rem) !important;
  }

  /* 포커스 상태 정상화 - 커서와 깜박임 제어 */
  .search-input-with-icon:focus {
    caret-color: auto !important;
  }

  .search-input-with-icon:not(:focus) {
    caret-color: transparent !important;
  }

  /* 포커스 해제 시 정상 동작 보장 */
  .search-input-with-icon {
    transition: all 0.2s ease;
  }

  /* 드롭다운 블러 효과 */
  .dropdown-blur {
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
    background-color: rgba(255, 255, 255, 0.1) !important;
  }

  .dark .dropdown-blur {
    background-color: rgba(0, 0, 0, 0.1) !important;
  }

  /* 숫자 입력 필드 증감 버튼 색상 */
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }

  /* 커스텀 숫자 입력 증감 버튼 스타일 */
  .number-input-container {
    position: relative;
  }

  .number-input-container input[type="number"] {
    padding-right: 24px;
  }

  .number-input-arrows {
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 1px;
  }

  .number-input-arrow {
    width: 16px;
    height: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: hsl(var(--color-primary-muted));
    transition: color 0.2s ease;
  }

  .number-input-arrow:hover {
    color: hsl(var(--color-primary-foreground));
  }

  .number-input-arrow svg {
    width: 12px;
    height: 12px;
  }

  /* 페이지네이션 스타일 통일 */
  .pagination button {
    color: hsl(var(--color-primary-foreground)) !important;
    border-color: hsl(var(--color-primary-foreground)) !important;
  }

  .pagination button:hover:not(:disabled) {
    background-color: hsl(var(--color-primary-hovered)) !important;
  }

  .pagination button:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
  }

  /* MODAL STYLING */
  /* 모달 배경색과 글자색 설정 */
  [data-dialog-content],
  .dialog-content,
  [role="dialog"],
  [data-radix-dialog-content] {
    background-color: hsl(var(--color-primary-background)) !important;
    color: hsl(var(--color-primary-foreground)) !important;
  }

  /* 모달 내 모든 텍스트 색상 설정 (테이블 링크 제외) */
  [data-dialog-content] *:not(table tbody tr a),
  .dialog-content *:not(table tbody tr a),
  [role="dialog"] *:not(table tbody tr a),
  [data-radix-dialog-content] *:not(table tbody tr a) {
    color: hsl(var(--color-primary-foreground)) !important;
  }

  /* 모달 헤더 색상 */
  [data-dialog-header],
  .dialog-header,
  [data-dialog-title],
  .dialog-title,
  [data-radix-dialog-title] {
    color: hsl(var(--color-primary-foreground)) !important;
  }

  /* 모든 shadcn/ui 모달 컴포넌트에 배경색 강제 적용 */
  .fixed.inset-0 div[role="dialog"],
  div[data-state="open"][role="dialog"],
  [cmdk-dialog] {
    background-color: hsl(var(--color-primary-background)) !important;
  }

  /* ButtonWithColorIcon CSS 변수 클래스 */
  .text-color-primary-foreground {
    color: hsl(var(--color-primary-foreground)) !important;
  }

  .border-color-primary-foreground {
    border-color: hsl(var(--color-primary-foreground)) !important;
  }

  .hover\:bg-color-primary-hovered:hover {
    background-color: hsl(var(--color-primary-hovered)) !important;
  }


  .disabled\:text-color-primary-muted:disabled {
    color: hsl(var(--color-primary-muted)) !important;
  }

  .disabled\:border-color-primary-muted:disabled {
    border-color: hsl(var(--color-primary-muted)) !important;
  }

  .active\:bg-color-primary-hovered:active {
    background-color: hsl(var(--color-primary-hovered)) !important;
  }

  .bg-color-secondary-active {
    background-color: hsl(var(--color-secondary-active)) !important;
  }

  .border-color-secondary-active {
    border-color: hsl(var(--color-secondary-active)) !important;
  }

  .hover\:bg-color-secondary-active:hover {
    background-color: hsl(var(--color-secondary-active)) !important;
  }

  .active\:bg-color-secondary-active:active {
    background-color: hsl(var(--color-secondary-active)) !important;
  }

  .bg-color-tertiary-base {
    background-color: hsl(var(--color-tertiary-base)) !important;
  }

  .border-color-tertiary-base {
    border-color: hsl(var(--color-tertiary-base)) !important;
  }

  .hover\:bg-color-tertiary-base:hover {
    background-color: hsl(var(--color-tertiary-base)) !important;
  }

  .active\:bg-color-tertiary-base:active {
    background-color: hsl(var(--color-tertiary-base)) !important;
  }

  .disabled\:bg-color-primary-muted:disabled {
    background-color: hsl(var(--color-primary-muted)) !important;
  }
}

@layer utilities {
  /* Compact prose styling for guide content - Using utilities layer for highest priority */
  .prose.prose-compact,
  .prose.prose-sm.prose-compact {
    line-height: 1.4 !important;
  }

  .prose.prose-compact p,
  .prose.prose-sm.prose-compact p {
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  .prose.prose-compact p:first-child,
  .prose.prose-sm.prose-compact p:first-child {
    margin-top: 0 !important;
  }

  .prose.prose-compact p:last-child,
  .prose.prose-sm.prose-compact p:last-child {
    margin-bottom: 0 !important;
  }

  .prose.prose-compact ul,
  .prose.prose-compact ol,
  .prose.prose-sm.prose-compact ul,
  .prose.prose-sm.prose-compact ol {
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  .prose.prose-compact li,
  .prose.prose-sm.prose-compact li {
    margin-top: 0.25rem !important;
    margin-bottom: 0.25rem !important;
  }

  .prose.prose-compact h1,
  .prose.prose-compact h2,
  .prose.prose-compact h3,
  .prose.prose-compact h4,
  .prose.prose-compact h5,
  .prose.prose-compact h6,
  .prose.prose-sm.prose-compact h1,
  .prose.prose-sm.prose-compact h2,
  .prose.prose-sm.prose-compact h3,
  .prose.prose-sm.prose-compact h4,
  .prose.prose-sm.prose-compact h5,
  .prose.prose-sm.prose-compact h6 {
    margin-top: 1rem !important;
    margin-bottom: 0.5rem !important;
  }

  .prose.prose-compact h1:first-child,
  .prose.prose-compact h2:first-child,
  .prose.prose-compact h3:first-child,
  .prose.prose-compact h4:first-child,
  .prose.prose-compact h5:first-child,
  .prose.prose-compact h6:first-child,
  .prose.prose-sm.prose-compact h1:first-child,
  .prose.prose-sm.prose-compact h2:first-child,
  .prose.prose-sm.prose-compact h3:first-child,
  .prose.prose-sm.prose-compact h4:first-child,
  .prose.prose-sm.prose-compact h5:first-child,
  .prose.prose-sm.prose-compact h6:first-child {
    margin-top: 0 !important;
  }

  .prose.prose-compact blockquote,
  .prose.prose-sm.prose-compact blockquote {
    margin-top: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }

  .prose.prose-compact pre,
  .prose.prose-sm.prose-compact pre {
    margin-top: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }

  .prose.prose-compact hr,
  .prose.prose-sm.prose-compact hr {
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .prose.prose-compact ul ul,
  .prose.prose-compact ul ol,
  .prose.prose-compact ol ul,
  .prose.prose-compact ol ol,
  .prose.prose-sm.prose-compact ul ul,
  .prose.prose-sm.prose-compact ul ol,
  .prose.prose-sm.prose-compact ol ul,
  .prose.prose-sm.prose-compact ol ol {
    margin-top: 0.25rem !important;
    margin-bottom: 0.25rem !important;
  }
}

/* 운영 가이드 전용 스타일 - scrapping detail 페이지와 동일한 스타일 */
.guide-content-container {
  background-color: rgb(239 246 255) !important; /* bg-blue-50 */
  border: 1px solid rgb(191 219 254) !important; /* border-blue-200 */
  border-radius: 0.5rem !important; /* rounded-lg */
  padding: 1rem !important;
}

.dark .guide-content-container {
  background-color: rgb(30 58 138 / 0.1) !important; /* 다크모드용 파란색 배경 */
  border-color: rgb(59 130 246 / 0.3) !important; /* 다크모드용 파란색 테두리 */
}

/* Tailwind CSS 리셋 강제 해제 */
.guide-content-container ul,
.guide-content-container ol {
  list-style: revert !important;
}

.guide-content-container li {
  list-style: revert !important;
}

.guide-content {
  color: rgb(30 58 138) !important; /* text-blue-900 */
  line-height: 1.3 !important;
  font-size: 0.875rem !important;
}

.dark .guide-content {
  color: rgb(147 197 253) !important; /* text-blue-300 다크모드용 */
}

/* 운영 가이드 내 모든 요소 스타일 - 매우 높은 우선순위 */
.guide-content p {
  margin-top: 0.25rem !important;
  margin-bottom: 0.25rem !important;
  line-height: 1.3 !important;
}

.guide-content p:first-child {
  margin-top: 0 !important;
}

.guide-content p:last-child {
  margin-bottom: 0 !important;
}

.guide-content h1,
.guide-content h2,
.guide-content h3,
.guide-content h4,
.guide-content h5,
.guide-content h6 {
  margin-top: 0.75rem !important;
  margin-bottom: 0.25rem !important;
  line-height: 1.2 !important;
  font-weight: 600 !important;
}

.guide-content h1:first-child,
.guide-content h2:first-child,
.guide-content h3:first-child,
.guide-content h4:first-child,
.guide-content h5:first-child,
.guide-content h6:first-child {
  margin-top: 0 !important;
}

.guide-content ul,
.guide-content ol {
  margin-top: 0.25rem !important;
  margin-bottom: 0.25rem !important;
  padding-left: 1.5rem !important;
}

.guide-content ul {
  list-style-type: disc !important;
  list-style-position: outside !important;
}

.guide-content ol {
  list-style-type: decimal !important;
  list-style-position: outside !important;
}

.guide-content li {
  margin-top: 0.125rem !important;
  margin-bottom: 0.125rem !important;
  line-height: 1.3 !important;
  display: list-item !important;
  list-style: inherit !important;
}

/* 중첩된 리스트 스타일 */
.guide-content ul ul {
  list-style-type: circle !important;
  margin-left: 1rem !important;
}

.guide-content ul ul ul {
  list-style-type: square !important;
}

.guide-content blockquote {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  padding-left: 1rem !important;
  border-left: 4px solid rgb(191 219 254) !important; /* border-blue-200 */
}

.guide-content pre {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  padding: 0.75rem !important;
  background-color: rgb(219 234 254) !important; /* bg-blue-100 */
  border-radius: 0.375rem !important;
  overflow-x: auto !important;
}

.dark .guide-content pre {
  background-color: rgb(30 58 138 / 0.2) !important; /* 다크모드용 */
}

.guide-content code {
  background-color: rgb(219 234 254) !important; /* bg-blue-100 */
  padding: 0.125rem 0.25rem !important;
  border-radius: 0.25rem !important;
  font-size: 0.875em !important;
}

.dark .guide-content code {
  background-color: rgb(30 58 138 / 0.2) !important; /* 다크모드용 */
}

.guide-content hr {
  margin-top: 0.75rem !important;
  margin-bottom: 0.75rem !important;
  border-color: rgb(191 219 254) !important; /* border-blue-200 */
}

.guide-content a {
  color: rgb(29 78 216) !important; /* text-blue-700 */
  text-decoration: underline !important;
}

.guide-content a:hover {
  color: rgb(30 58 138) !important; /* text-blue-900 */
}

.dark .guide-content a {
  color: rgb(147 197 253) !important; /* text-blue-300 */
}

.dark .guide-content a:hover {
  color: rgb(191 219 254) !important; /* text-blue-200 */
}

.guide-content strong {
  color: rgb(30 58 138) !important; /* text-blue-900 */
  font-weight: 600 !important;
}

.dark .guide-content strong {
  color: rgb(147 197 253) !important; /* text-blue-300 */
}